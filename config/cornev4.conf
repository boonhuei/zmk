# =================================================
# Core ZMK
# =================================================
CONFIG_ZMK=y
CONFIG_ZMK_USB=y

# =================================================
# ZMK Studio support
# (snippet enables transport, this enables features)
# =================================================
CONFIG_ZMK_STUDIO=y
CONFIG_ZMK_USB_LOGGING=y
CONFIG_USB_DEVICE_STACK=y

# =================================================
# Bluetooth
# =================================================
CONFIG_BT=y
CONFIG_ZMK_BLE=y
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_MAX_PAIRED=5
CONFIG_BT_MAX_CONN=1

# Optional but helpful
CONFIG_ZMK_BLE_CLEAR_BONDS_ON_START=n

# =================================================
# Power & sleep
# =================================================
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_TIMEOUT=300000   # 5 minutes

# =================================================
# Display framework
# =================================================
CONFIG_ZMK_DISPLAY=y
CONFIG_ZMK_DISPLAY_STATUS_SCREEN=y

# Widgets
CONFIG_ZMK_DISPLAY_WIDGET_LAYER_STATUS=y
CONFIG_ZMK_DISPLAY_WIDGET_BATTERY_STATUS=y
CONFIG_ZMK_DISPLAY_WIDGET_OUTPUT_STATUS=y   # USB / BLE + profile

# =================================================
# nice!display (SSD1306 OLED)
# =================================================
CONFIG_SSD1306=y

# I2C (OLED)
CONFIG_I2C=y
CONFIG_I2C_INIT_PRIORITY=60

# Adapter power control
CONFIG_GPIO=y
CONFIG_ZMK_DISPLAY_POWER=y

# =================================================
# Display sleep & power saving
# =================================================
# Turn off display after 30 seconds of inactivity
CONFIG_ZMK_DISPLAY_SLEEP_TIMEOUT=30000

# =================================================
# Battery
# =================================================
CONFIG_ZMK_BATTERY=y
CONFIG_ADC=y

# =================================================
# Logging (disable for power saving)
# =================================================
CONFIG_LOG=n
CONFIG_PRINTK=n
